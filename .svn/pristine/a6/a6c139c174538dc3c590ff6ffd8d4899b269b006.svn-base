{"version":3,"sources":["uiMgr.js"],"names":["cc","Class","extends","Component","properties","score","Label","coin","level","time","round2_3_4","Node","round6_7_8","round5","onLoad","EM","on","type","UPDATE_SCORE","updateScore","UPDATE_COIN","updateCoin","UPDATE_TIME","updateTime","SHOW_SELECT_ZOOM","showSelectZoom","updateLevel","ENUM","STORY_TYPE","active","string","preFix","global","getRoundString","onDestroy","off","num","len","Array","join","slice"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,eAAML,GAAGM,KAhBD;AAiBRC,cAAKP,GAAGM,KAjBA;AAkBRE,eAAMR,GAAGM,KAlBD;AAmBRG,cAAKT,GAAGM,KAnBA;AAoBRI,oBAAWV,GAAGW,IApBN;AAqBRC,oBAAWZ,GAAGW,IArBN;AAsBRE,gBAAOb,GAAGW;AAtBF,KAHP;;AA4BL;;AAEAG,UA9BK,oBA8BK;AACNC,WAAGC,EAAH,CAAMD,GAAGE,IAAH,CAAQC,YAAd,EAA2B,KAAKC,WAAhC,EAA4C,IAA5C;AACAJ,WAAGC,EAAH,CAAMD,GAAGE,IAAH,CAAQG,WAAd,EAA0B,KAAKC,UAA/B,EAA0C,IAA1C;AACAN,WAAGC,EAAH,CAAMD,GAAGE,IAAH,CAAQK,WAAd,EAA0B,KAAKC,UAA/B,EAA0C,IAA1C;AACAR,WAAGC,EAAH,CAAMD,GAAGE,IAAH,CAAQO,gBAAd,EAA+B,KAAKC,cAApC,EAAmD,IAAnD;AACA,aAAKC,WAAL;AACH,KApCI;AAsCLD,kBAtCK,0BAsCUR,IAtCV,EAsCgB;AACjB,gBAAOA,IAAP;AACI,iBAAKU,KAAKC,UAAL,CAAgB,OAAhB,CAAL;AACI,qBAAKlB,UAAL,CAAgBmB,MAAhB,GAAuB,IAAvB;AACA;AACJ,iBAAKF,KAAKC,UAAL,CAAgB,OAAhB,CAAL;AACI,qBAAKhB,UAAL,CAAgBiB,MAAhB,GAAuB,IAAvB;AACA;AACJ,iBAAKF,KAAKC,UAAL,CAAgB,GAAhB,CAAL;AACI,qBAAKf,MAAL,CAAYgB,MAAZ,GAAmB,IAAnB;AACA;AATR;AAWH,KAlDI;AAmDLV,eAnDK,uBAmDOd,KAnDP,EAmDa;AACd,aAAKA,KAAL,CAAWyB,MAAX,GAAkB,KAAKC,MAAL,CAAY1B,KAAZ,EAAkB,CAAlB,CAAlB;AACH,KArDI;AAsDLgB,cAtDK,sBAsDMd,IAtDN,EAsDW;AACZ,aAAKA,IAAL,CAAUuB,MAAV,GAAiB,OAAK,KAAKC,MAAL,CAAYxB,IAAZ,EAAiB,CAAjB,CAAtB;AACH,KAxDI;AAyDLmB,eAzDK,yBAyDQ;AACT,aAAKlB,KAAL,CAAWsB,MAAX,GAAkBE,OAAOC,cAAP,EAAlB;AACH,KA3DI;AA4DLV,cA5DK,sBA4DMd,IA5DN,EA4DW;AACZ,aAAKA,IAAL,CAAUqB,MAAV,GAAiB,KAAKC,MAAL,CAAYtB,IAAZ,EAAiB,CAAjB,CAAjB;AACH,KA9DI;;AA+DL;AACAyB,aAhEK,uBAgEM;AACPnB,WAAGoB,GAAH,CAAOpB,GAAGE,IAAH,CAAQC,YAAf;AACAH,WAAGoB,GAAH,CAAOpB,GAAGE,IAAH,CAAQG,WAAf;AACAL,WAAGoB,GAAH,CAAOpB,GAAGE,IAAH,CAAQK,WAAf;AACAP,WAAGoB,GAAH,CAAOpB,GAAGE,IAAH,CAAQO,gBAAf;AACH,KArEI;AAsELO,UAtEK,kBAsEEK,GAtEF,EAsEMC,GAtEN,EAsEU;AACX,eAAO,CAACC,MAAMD,GAAN,EAAWE,IAAX,CAAgB,GAAhB,IAAqBH,GAAtB,EAA2BI,KAA3B,CAAiC,CAACH,GAAlC,CAAP;AACH;AAxEI,CAAT","file":"uiMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        score:cc.Label,\r\n        coin:cc.Label,\r\n        level:cc.Label,\r\n        time:cc.Label,\r\n        round2_3_4:cc.Node,\r\n        round6_7_8:cc.Node,\r\n        round5:cc.Node\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        EM.on(EM.type.UPDATE_SCORE,this.updateScore,this);\r\n        EM.on(EM.type.UPDATE_COIN,this.updateCoin,this);\r\n        EM.on(EM.type.UPDATE_TIME,this.updateTime,this);\r\n        EM.on(EM.type.SHOW_SELECT_ZOOM,this.showSelectZoom,this);\r\n        this.updateLevel();\r\n    },\r\n\r\n    showSelectZoom(type) {  \r\n        switch(type){\r\n            case ENUM.STORY_TYPE[\"2_3_4\"]:\r\n                this.round2_3_4.active=true;\r\n                break;\r\n            case ENUM.STORY_TYPE[\"6_7_8\"]:\r\n                this.round6_7_8.active=true;\r\n                break;\r\n            case ENUM.STORY_TYPE[\"5\"]:\r\n                this.round5.active=true;\r\n                break;\r\n        }\r\n    },\r\n    updateScore(score){\r\n        this.score.string=this.preFix(score,6);\r\n    },\r\n    updateCoin(coin){\r\n        this.coin.string=\"x \"+this.preFix(coin,2);\r\n    },\r\n    updateLevel(){\r\n        this.level.string=global.getRoundString();\r\n    },\r\n    updateTime(time){\r\n        this.time.string=this.preFix(time,3);\r\n    },\r\n    // update (dt) {},\r\n    onDestroy(){\r\n        EM.off(EM.type.UPDATE_SCORE);\r\n        EM.off(EM.type.UPDATE_COIN);\r\n        EM.off(EM.type.UPDATE_TIME);\r\n        EM.off(EM.type.SHOW_SELECT_ZOOM);\r\n    },\r\n    preFix(num,len){\r\n        return (Array(len).join(\"0\")+num).slice(-len);\r\n    }\r\n});\r\n"]}