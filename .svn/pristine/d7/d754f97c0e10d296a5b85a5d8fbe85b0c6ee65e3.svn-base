{"version":3,"sources":["coin.js"],"names":["cc","Class","extends","Component","properties","init","tile","node","addChild","ani","getComponent","Animation","gid","GID","COIN","play","setCurrentTime","Date","now","global","aniSynTime","start","update","dt","isOutScreen","removeFromParent","pos","convertToWorldSpace","position","x"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,GAAGC,KAAH,CAAS;AACLC,aAAQF,GAAGG,SADN;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfQ,KAHP;;AAqBL;;AAEA;AACAC,QAxBK,gBAwBAC,IAxBA,EAwBK;AACNA,aAAKC,IAAL,CAAUC,QAAV,CAAmB,KAAKD,IAAxB;AACA,YAAIE,MAAI,KAAKF,IAAL,CAAUG,YAAV,CAAuBV,GAAGW,SAA1B,CAAR;;AAEA,gBAAOL,KAAKM,GAAZ;AACI,iBAAKC,IAAIC,IAAJ,CAAS,CAAT,CAAL;AAAiBL,oBAAIM,IAAJ,CAAS,WAAT,EAAsB;AACvC,iBAAKF,IAAIC,IAAJ,CAAS,CAAT,CAAL;AAAiBL,oBAAIM,IAAJ,CAAS,UAAT,EAAqB;AACtC,iBAAKF,IAAIC,IAAJ,CAAS,CAAT,CAAL;AAAiBL,oBAAIM,IAAJ,CAAS,WAAT,EAAsB;AAH3C;AAKAN,YAAIO,cAAJ,CAAmB,CAACC,KAAKC,GAAL,KAAWC,OAAOC,UAAnB,IAA+B,IAAlD;AACH,KAlCI;AAmCLC,SAnCK,mBAmCI,CAER,CArCI;AAsCLC,UAtCK,kBAsCGC,EAtCH,EAsCO;AACR;AACA,YAAG,KAAKC,WAAL,EAAH,EAAsB;AAClB,iBAAKjB,IAAL,CAAUkB,gBAAV;AACH;AACJ,KA3CI;AA4CLD,eA5CK,yBA4CQ;AACT,YAAIE,MAAI,KAAKnB,IAAL,CAAUoB,mBAAV,CAA8B,KAAKpB,IAAL,CAAUqB,QAAxC,CAAR;AACA,YAAGF,IAAIG,CAAJ,GAAM,CAAC,EAAV,EAAa;AACT,mBAAO,IAAP;AACH;AACD,eAAO,KAAP;AACH;AAlDI,CAAT","file":"coin.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\prop","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\ncc.Class({\r\n    extends:cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    init(tile){\r\n        tile.node.addChild(this.node);\r\n        let ani=this.node.getComponent(cc.Animation);\r\n        \r\n        switch(tile.gid){\r\n            case GID.COIN[0]:ani.play(\"coin_gray\");break;\r\n            case GID.COIN[1]:ani.play(\"coin_red\");break;\r\n            case GID.COIN[2]:ani.play(\"coin_blue\");break; \r\n        }\r\n        ani.setCurrentTime((Date.now()-global.aniSynTime)/1000);\r\n    },\r\n    start () {\r\n\r\n    },\r\n    update (dt) {\r\n        //cc.log(this.state.time);\r\n        if(this.isOutScreen()){\r\n            this.node.removeFromParent();\r\n        }\r\n    },\r\n    isOutScreen(){\r\n        let pos=this.node.convertToWorldSpace(this.node.position);\r\n        if(pos.x<-40){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n});\r\n"]}