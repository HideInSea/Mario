{"version":3,"sources":["mushroomState.js"],"names":["State","require","Walk","cc","Class","extends","onEnter","target","state","ENUM","MUSHROOM_STATE","WALK","hCurrSpeed","hDefSpe","playWalkAni","type","MON_COLOR","RED","animation","play","BLUE","GRAY","Flat","FLAT","playFlatAni","isDie","isPause","setTimeout","node","removeFromParent","TopTurn","TOP_TURN","playTopTurnAni","scaleY","y","enableCollsi","vCurrSpeed","vCurrAcceleration","hCurrAcceleration","module","exports"],"mappings":"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","file":"mushroomState.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\state\\monsterState","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nvar State=require(\"state\");\r\n\r\nvar Walk=cc.Class({\r\n    extends:State,\r\n    onEnter(){\r\n        this.target.state=ENUM.MUSHROOM_STATE.WALK;\r\n        this.target.hCurrSpeed=-this.target.hDefSpe;\r\n        this.playWalkAni();\r\n    },\r\n    playWalkAni(){\r\n        switch(this.target.type){\r\n            case ENUM.MON_COLOR.RED:\r\n                this.target.animation.play(\"walk_red\");\r\n            break;\r\n            case ENUM.MON_COLOR.BLUE:\r\n                this.target.animation.play(\"walk_blue\");\r\n            break;\r\n            case ENUM.MON_COLOR.GRAY:\r\n                this.target.animation.play(\"walk_gray\");\r\n            break;\r\n        }\r\n    }\r\n});\r\n\r\n\r\n//踩扁\r\nvar Flat=cc.Class({\r\n    extends:State,\r\n    onEnter(){\r\n        this.target.state=ENUM.MUSHROOM_STATE.FLAT;\r\n        this.playFlatAni();\r\n        this.target.isDie=true;\r\n        this.target.isPause=true;\r\n        //2秒后移除\r\n        setTimeout(()=>{\r\n            this.target.node.removeFromParent();\r\n        },2000);\r\n    },\r\n    playFlatAni(){\r\n        switch(this.target.type){\r\n            case ENUM.MON_COLOR.RED:\r\n                this.target.animation.play(\"die_red\");\r\n            break;\r\n            case ENUM.MON_COLOR.BLUE:\r\n                this.target.animation.play(\"die_blue\");\r\n            break;\r\n            case ENUM.MON_COLOR.GRAY:\r\n                this.target.animation.play(\"die_gray\");\r\n            break;\r\n        }\r\n    }\r\n});\r\n\r\n\r\n//被顶翻\r\nvar TopTurn=cc.Class({\r\n    extends:State,\r\n    onEnter(){\r\n        this.target.state=ENUM.MUSHROOM_STATE.TOP_TURN;\r\n        this.playTopTurnAni();\r\n        this.target.node.scaleY=-1;\r\n        this.target.node.y+=40;\r\n        this.target.enableCollsi=false;\r\n        this.target.isDie=true;\r\n        this.target.vCurrSpeed=300;\r\n        this.target.vCurrAcceleration=-1400;\r\n        this.target.hCurrSpeed=0;\r\n        this.target.hCurrAcceleration=0;\r\n    },\r\n    playTopTurnAni(){\r\n        switch(this.target.type){\r\n            case ENUM.MON_COLOR.RED:\r\n                this.target.animation.play(\"topturn_red\");\r\n            break;\r\n            case ENUM.MON_COLOR.BLUE:\r\n                this.target.animation.play(\"topturn_blue\");\r\n            break;\r\n            case ENUM.MON_COLOR.GRAY:\r\n                this.target.animation.play(\"topturn_gray\");\r\n            break;\r\n        }\r\n    }\r\n});\r\n\r\nmodule.exports={Walk,Flat,TopTurn}"]}