{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\monster/assets\\script\\monster\\rocketFire.js"],"names":["Actor","require","cc","Class","extends","properties","init","color","arguments","actorType","fireDir","ENUM","MON_DIR","LEFT","node","runAction","repeatForever","sequence","delayTime","callFunc","fire","isPlayerAround","EM","emit","type","CREATE_MONSTER","position","getFireDir","x","gm","currPlayer","RIGHT","getSize","rect","pause","isPause","pauseAllActions","resume","resumeAllActions","update","dt","isOutScreen","removeFromParent","interactive","actor","isDie"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,QAAMC,QAAQ,OAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAAQJ,KADH;;AAGLK,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfQ,KAHP;;AAqBL;;AAEA;AACAC,QAxBK,kBAwBC;AACF,aAAKC,KAAL,GAAWC,UAAU,CAAV,CAAX;AACA,aAAKC,SAAL,GAAeD,UAAU,CAAV,CAAf;AACA,aAAKE,OAAL,GAAaC,KAAKC,OAAL,CAAaC,IAA1B;;AAEA,aAAKC,IAAL,CAAUC,SAAV,CAAoBb,GAAGc,aAAH,CAAiBd,GAAGe,QAAH,CAAYf,GAAGgB,SAAH,CAAa,CAAb,CAAZ,EAA4BhB,GAAGiB,QAAH,CAAY,KAAKC,IAAjB,EAAsB,IAAtB,CAA5B,CAAjB,CAApB;;AAEA,aAAKC,cAAL,GAAoB,KAApB;AACH,KAhCI;AAiCLD,QAjCK,kBAiCC;AACFE,WAAGC,IAAH,CAAQD,GAAGE,IAAH,CAAQC,cAAhB,EAA+B,KAAKX,IAAL,CAAUY,QAAzC,EAAkD,YAAU,KAAKnB,KAAf,GAAqB,GAArB,GAAyB,KAAKoB,UAAL,EAA3E;AACH,KAnCI;AAoCLA,cApCK,wBAoCO;AACR,eAAO,KAAKb,IAAL,CAAUc,CAAV,GAAYC,GAAGC,UAAH,CAAcF,CAA1B,GAA4BjB,KAAKC,OAAL,CAAaC,IAAzC,GAA8CF,KAAKC,OAAL,CAAamB,KAAlE;AACH,KAtCI;AAuCLC,WAvCK,qBAuCI;AACL,eAAO9B,GAAG+B,IAAH,CAAQ,CAAR,EAAU,CAAV,EAAY,CAAZ,EAAc,CAAd,CAAP;AACH,KAzCI;AA0CLC,SA1CK,mBA0CE;AACH,aAAKC,OAAL,GAAa,IAAb;AACA,aAAKrB,IAAL,CAAUsB,eAAV;AACH,KA7CI;AA8CLC,UA9CK,oBA8CG;AACJ,aAAKF,OAAL,GAAa,KAAb;AACA,aAAKrB,IAAL,CAAUwB,gBAAV;AACH,KAjDI;;AAkDL;;AAEAC,UApDK,kBAoDGC,EApDH,EAoDO;AACR,YAAG,KAAKL,OAAR,EAAgB;;AAEhB,YAAG,KAAKM,WAAL,EAAH,EAAsB;AAClB,iBAAK3B,IAAL,CAAU4B,gBAAV;AACH;AACJ,KA1DI;AA2DLC,eA3DK,uBA2DOC,KA3DP,EA2Da;AACd,YAAGA,MAAMC,KAAT,EAAe;;AAEf,YAAGD,MAAM9B,IAAN,CAAWc,CAAX,GAAa,KAAKd,IAAL,CAAUc,CAAV,GAAY,EAAzB,IAA6BgB,MAAM9B,IAAN,CAAWc,CAAX,GAAa,KAAKd,IAAL,CAAUc,CAAV,GAAY,EAAtD,IAA0D,CAAC,KAAKP,cAAnE,EAAkF;AAC9E,iBAAKA,cAAL,GAAoB,IAApB;AACA,iBAAKP,IAAL,CAAUsB,eAAV;AACH,SAHD,MAGM,IAAG,CAACQ,MAAM9B,IAAN,CAAWc,CAAX,GAAa,KAAKd,IAAL,CAAUc,CAAV,GAAY,EAAzB,IAA6BgB,MAAM9B,IAAN,CAAWc,CAAX,GAAa,KAAKd,IAAL,CAAUc,CAAV,GAAY,EAAvD,KAA4D,KAAKP,cAApE,EAAmF;AACrF,iBAAKA,cAAL,GAAoB,KAApB;AACA,iBAAKP,IAAL,CAAUwB,gBAAV;AACH;AACJ;AArEI,CAAT","file":"rocketFire.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\monster","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nvar Actor=require(\"actor\");\r\ncc.Class({\r\n    extends:Actor,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    init(){\r\n        this.color=arguments[1];\r\n        this.actorType=arguments[0];    \r\n        this.fireDir=ENUM.MON_DIR.LEFT;\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(3),cc.callFunc(this.fire,this))));\r\n        \r\n        this.isPlayerAround=false;\r\n    },\r\n    fire(){\r\n        EM.emit(EM.type.CREATE_MONSTER,this.node.position,\"rocket_\"+this.color+\"_\"+this.getFireDir());\r\n    },\r\n    getFireDir(){\r\n        return this.node.x>gm.currPlayer.x?ENUM.MON_DIR.LEFT:ENUM.MON_DIR.RIGHT;\r\n    },\r\n    getSize(){\r\n        return cc.rect(0,0,0,0);\r\n    },\r\n    pause(){\r\n        this.isPause=true;\r\n        this.node.pauseAllActions();\r\n    },\r\n    resume(){\r\n        this.isPause=false;\r\n        this.node.resumeAllActions();\r\n    },\r\n    // onLoad () {},\r\n\r\n    update (dt) {\r\n        if(this.isPause)return;\r\n\r\n        if(this.isOutScreen()){\r\n            this.node.removeFromParent();\r\n        }\r\n    },\r\n    interactive(actor){\r\n        if(actor.isDie)return;\r\n\r\n        if(actor.node.x<this.node.x+60&&actor.node.x>this.node.x-60&&!this.isPlayerAround){\r\n            this.isPlayerAround=true;\r\n            this.node.pauseAllActions();\r\n        }else if((actor.node.x>this.node.x+60||actor.node.x<this.node.x-60)&&this.isPlayerAround){\r\n            this.isPlayerAround=false;\r\n            this.node.resumeAllActions();\r\n        }\r\n    }\r\n});\r\n"]}