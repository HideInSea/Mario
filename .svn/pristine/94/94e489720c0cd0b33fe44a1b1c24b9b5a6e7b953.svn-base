{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\aiCtrl.js"],"names":["AiCtrl","cc","Class","ctor","_cmdList","setInterval","length","shift","excute","addCmd","cmd","push","clear","update","dt","Command","target","key","type","_target","_type","_key","MoveCmd","extends","fsm","handleInput","keyCode","module","exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAIA,SAAOC,GAAGC,KAAH,CAAS;AAChBC,QADgB,kBACV;AAAA;;AACF,aAAKC,QAAL,GAAc,EAAd;AACAC,oBAAY,YAAM;AACd,gBAAG,MAAKD,QAAL,CAAcE,MAAd,GAAqB,CAAxB,EAA0B;AACtB,sBAAKF,QAAL,CAAcG,KAAd,GAAsBC,MAAtB;AACH;AACJ,SAJD,EAIE,GAJF;AAKH,KARe;AAShBC,UATgB,kBASTC,GATS,EASL;AACP,aAAKN,QAAL,CAAcO,IAAd,CAAmBD,GAAnB;AACH,KAXe;AAYhBE,SAZgB,mBAYT;AACH,aAAKR,QAAL,GAAc,EAAd;AACH,KAde;AAehBS,UAfgB,kBAeTC,EAfS,EAeN,CAET;AAjBe,CAAT,CAAX;;AAqBA;AACA,IAAIC,UAAQd,GAAGC,KAAH,CAAS;AACjBC,QADiB,gBACZa,MADY,EACLC,GADK,EACDC,IADC,EACI;AACjB,aAAKC,OAAL,GAAaH,MAAb;AACA,aAAKI,KAAL,GAAWF,IAAX;AACA,aAAKG,IAAL,GAAUJ,GAAV;AACH,KALgB;AAMjBT,UANiB,oBAMT,CAEP;AARgB,CAAT,CAAZ;;AAWA;AACA,IAAIc,UAAQrB,GAAGC,KAAH,CAAS;AACjBqB,aAAQR,OADS;AAEjBP,UAFiB,oBAET;AACJ;AACA,aAAKW,OAAL,CAAaK,GAAb,CAAiBC,WAAjB,CAA6B,EAACC,SAAQ,KAAKL,IAAd,EAAmBH,MAAK,KAAKE,KAA7B,EAA7B;AACH;AALgB,CAAT,CAAZ;;AAQAO,OAAOC,OAAP,GAAe,EAAC5B,cAAD,EAAQsB,gBAAR,EAAf","file":"aiCtrl.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n//ai控制玩家的移动\r\nvar AiCtrl=cc.Class({\r\n    ctor(){\r\n        this._cmdList=[];\r\n        setInterval(() => {\r\n            if(this._cmdList.length>0){\r\n                this._cmdList.shift().excute();\r\n            }\r\n        },200);\r\n    },\r\n    addCmd(cmd){\r\n        this._cmdList.push(cmd);\r\n    },\r\n    clear(){\r\n        this._cmdList=[];\r\n    },\r\n    update(dt){\r\n\r\n    }\r\n});\r\n\r\n\r\n//指令基类\r\nvar Command=cc.Class({\r\n    ctor(target,key,type){\r\n        this._target=target;\r\n        this._type=type;\r\n        this._key=key;\r\n    },\r\n    excute(){\r\n\r\n    }\r\n});\r\n\r\n//玩家移动指令\r\nvar MoveCmd=cc.Class({\r\n    extends:Command,\r\n    excute(){\r\n        //this._target.fsm.handleInput({keyCode:cc.macro.KEY.d,type:\"keyup\"});\r\n        this._target.fsm.handleInput({keyCode:this._key,type:this._type});\r\n    }\r\n});\r\n\r\nmodule.exports={AiCtrl,MoveCmd};"]}