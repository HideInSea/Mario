{"version":3,"sources":["propMgr.js"],"names":["cc","Class","extends","Component","properties","mushroom","Prefab","flower","star","cirrus","ladder","story","aex","baby","spring","bubble","wheel","transition","roadCheck","princess","conditionTran","roadClear","init","propObjs","utils","deepClone","gm","mapMgr","propLayer","getObjects","resetObjects","onLoad","EM","on","type","CREATE_PROP","createProp","PAUSE_ACTOR","pauseActor","RESUME_ACTOR","resumeActor","children","node","i","length","getComponent","name","pause","resume","pos","propName","args","split","prop","script","ENUM","PROP_TYPE","COIN","MUSHROOM","global","getPlayerState","FORM_STATE","SMALL","LIFE","instantiate","STAR","CIRRUS","LADDER","STORY","AEX","BABY","SPRING","BUBBLE","WHEEL","TRANSITION","ROADCHECK","PRINCESS","CONDITIONTRAN","ROADCLEAR","addChild","setPosition","apply","collsition","interactive","playerScript","collsiWithPushWall","wallBox","iteratorPropObjects","isObjectInScreen","obj","splice","tPos","toTiledPos","v2","x","y","tilePosToPos","collsitionWithBullet","mon","pBullets","bulletMgr","getPBullet","j","collsiWithPlayerBullet","collsitionWithMonster","monster","monsterMgr","getMonsters","one","collsiWithMon","update","dt","onDestroy","off"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,kBAASL,GAAGM,MAhBJ;AAiBRC,gBAAOP,GAAGM,MAjBF;AAkBRE,cAAKR,GAAGM,MAlBA;AAmBRG,gBAAOT,GAAGM,MAnBF;AAoBRI,gBAAOV,GAAGM,MApBF;AAqBRK,eAAMX,GAAGM,MArBD;AAsBRM,aAAIZ,GAAGM,MAtBC;AAuBRO,cAAKb,GAAGM,MAvBA;AAwBRQ,gBAAOd,GAAGM,MAxBF;AAyBRS,gBAAOf,GAAGM,MAzBF;AA0BRU,eAAMhB,GAAGM,MA1BD;AA2BRW,oBAAWjB,GAAGM,MA3BN;AA4BRY,mBAAUlB,GAAGM,MA5BL;AA6BRa,kBAASnB,GAAGM,MA7BJ;AA8BRc,uBAAcpB,GAAGM,MA9BT;AA+BRe,mBAAUrB,GAAGM;AA/BL,KAHP;;AAqCL;AACAgB,QAtCK,kBAsCC;AACF,aAAKC,QAAL,GAAcC,MAAMC,SAAN,CAAgBC,GAAGC,MAAH,CAAUC,SAAV,CAAoBC,UAApB,EAAhB,CAAd;AACH,KAxCI;AAyCLC,gBAzCK,0BAyCS;AACV,aAAKP,QAAL,GAAcC,MAAMC,SAAN,CAAgBC,GAAGC,MAAH,CAAUC,SAAV,CAAoBC,UAApB,EAAhB,CAAd;AACH,KA3CI;AA4CLE,UA5CK,oBA4CK;AACNC,WAAGC,EAAH,CAAMD,GAAGE,IAAH,CAAQC,WAAd,EAA0B,KAAKC,UAA/B,EAA0C,IAA1C;;AAEAJ,WAAGC,EAAH,CAAMD,GAAGE,IAAH,CAAQG,WAAd,EAA0B,KAAKC,UAA/B,EAA0C,IAA1C;AACAN,WAAGC,EAAH,CAAMD,GAAGE,IAAH,CAAQK,YAAd,EAA2B,KAAKC,WAAhC,EAA4C,IAA5C;AACH,KAjDI;AAkDLF,cAlDK,wBAkDO;AACR,YAAIG,WAAS,KAAKC,IAAL,CAAUD,QAAvB;AACA,aAAI,IAAIE,IAAE,CAAV,EAAYA,IAAEF,SAASG,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9BF,qBAASE,CAAT,EAAYE,YAAZ,CAAyBJ,SAASE,CAAT,EAAYG,IAArC,EAA2CC,KAA3C;AACH;AACJ,KAvDI;AAwDLP,eAxDK,yBAwDQ;AACT,YAAIC,WAAS,KAAKC,IAAL,CAAUD,QAAvB;AACA,aAAI,IAAIE,IAAE,CAAV,EAAYA,IAAEF,SAASG,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9BF,qBAASE,CAAT,EAAYE,YAAZ,CAAyBJ,SAASE,CAAT,EAAYG,IAArC,EAA2CE,MAA3C;AACH;AACJ,KA7DI;AA8DLZ,cA9DK,sBA8DMa,GA9DN,EA8DUC,QA9DV,EA8DmB;AACpB,YAAIC,OAAKD,SAASE,KAAT,CAAe,GAAf,CAAT;AACA,YAAIC,OAAK,IAAT;AACA,YAAIC,SAAO,IAAX;AACA,gBAAOH,KAAK,CAAL,CAAP;AACI,iBAAKI,KAAKC,SAAL,CAAeC,IAApB;AAAyB;AACzB,iBAAKF,KAAKC,SAAL,CAAeE,QAApB;AACI,oBAAGC,OAAOC,cAAP,OAA0BC,WAAWC,KAArC,IAA4CX,KAAK,CAAL,MAAUI,KAAKC,SAAL,CAAeO,IAAxE,EAA6E;AACzEV,2BAAKrD,GAAGgE,WAAH,CAAe,KAAK3D,QAApB,CAAL;AACAiD,6BAAOD,KAAKR,YAAL,CAAkB,MAAlB,CAAP;AACH,iBAHD,MAGK;AACDQ,2BAAKrD,GAAGgE,WAAH,CAAe,KAAKzD,MAApB,CAAL;AACA+C,6BAAOD,KAAKR,YAAL,CAAkB,QAAlB,CAAP;AACH;AACL;AACA,iBAAKU,KAAKC,SAAL,CAAeS,IAApB;AACIZ,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKxD,IAApB,CAAL;AACA8C,yBAAOD,KAAKR,YAAL,CAAkB,MAAlB,CAAP;AACJ;AACA,iBAAKU,KAAKC,SAAL,CAAeU,MAApB;AACIb,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKvD,MAApB,CAAL;AACA6C,yBAAOD,KAAKR,YAAL,CAAkB,QAAlB,CAAP;AACJ;AACA,iBAAKU,KAAKC,SAAL,CAAeW,MAApB;AACId,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKtD,MAApB,CAAL;AACA4C,yBAAOD,KAAKR,YAAL,CAAkB,QAAlB,CAAP;AACJ;AACA,iBAAKU,KAAKC,SAAL,CAAeY,KAApB;AACIf,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKrD,KAApB,CAAL;AACA2C,yBAAOD,KAAKR,YAAL,CAAkB,OAAlB,CAAP;AACJ;AACA,iBAAKU,KAAKC,SAAL,CAAea,GAApB;AACAhB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKpD,GAApB,CAAL;AACA0C,yBAAOD,KAAKR,YAAL,CAAkB,KAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAec,IAApB;AACAjB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKnD,IAApB,CAAL;AACAyC,yBAAOD,KAAKR,YAAL,CAAkB,MAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAee,MAApB;AACAlB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKlD,MAApB,CAAL;AACAwC,yBAAOD,KAAKR,YAAL,CAAkB,QAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAegB,MAApB;AACAnB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKjD,MAApB,CAAL;AACAuC,yBAAOD,KAAKR,YAAL,CAAkB,QAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAeiB,KAApB;AACApB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAKhD,KAApB,CAAL;AACAsC,yBAAOD,KAAKR,YAAL,CAAkB,OAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAekB,UAApB;AACArB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAK/C,UAApB,CAAL;AACAqC,yBAAOD,KAAKR,YAAL,CAAkB,YAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAemB,SAApB;AACAtB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAK9C,SAApB,CAAL;AACAoC,yBAAOD,KAAKR,YAAL,CAAkB,WAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAeoB,QAApB;AACAvB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAK7C,QAApB,CAAL;AACAmC,yBAAOD,KAAKR,YAAL,CAAkB,UAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAeqB,aAApB;AACAxB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAK5C,aAApB,CAAL;AACAkC,yBAAOD,KAAKR,YAAL,CAAkB,eAAlB,CAAP;AACA;AACA,iBAAKU,KAAKC,SAAL,CAAesB,SAApB;AACAzB,uBAAKrD,GAAGgE,WAAH,CAAe,KAAK3C,SAApB,CAAL;AACAiC,yBAAOD,KAAKR,YAAL,CAAkB,WAAlB,CAAP;AACA;AAlEJ;AAoEA,aAAKH,IAAL,CAAUqC,QAAV,CAAmB1B,IAAnB;AACAA,aAAK2B,WAAL,CAAiB/B,GAAjB;AACAK,eAAOhC,IAAP,CAAY2D,KAAZ,CAAkB3B,MAAlB,EAAyBH,IAAzB;AACH,KAzII;AA2IL+B,cA3IK,wBA2IO;AACR,YAAIzC,WAAS,KAAKC,IAAL,CAAUD,QAAvB;AACA,aAAI,IAAIE,IAAE,CAAV,EAAYA,IAAEF,SAASG,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9BF,qBAASE,CAAT,EAAYE,YAAZ,CAAyBJ,SAASE,CAAT,EAAYG,IAArC,EAA2CqC,WAA3C,CAAuDzD,GAAG0D,YAA1D;AACH;AACJ,KAhJI;AAiJLC,sBAjJK,8BAiJcC,OAjJd,EAiJsB;AACvB,YAAI7C,WAAS,KAAKC,IAAL,CAAUD,QAAvB;AACA,aAAI,IAAIE,IAAE,CAAV,EAAYA,IAAEF,SAASG,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9BF,qBAASE,CAAT,EAAYE,YAAZ,CAAyBJ,SAASE,CAAT,EAAYG,IAArC,EAA2CuC,kBAA3C,CAA8DC,OAA9D;AACH;AACJ,KAtJI;;AAuJL;AACAC,uBAxJK,iCAwJgB;AACjB,aAAI,IAAI5C,IAAE,CAAV,EAAYA,IAAE,KAAKpB,QAAL,CAAcqB,MAA5B,EAAmCD,GAAnC,EAAuC;AACnC,gBAAGjB,GAAGC,MAAH,CAAU6D,gBAAV,CAA2B,KAAKjE,QAAL,CAAcoB,CAAd,CAA3B,CAAH,EAAgD;AAC5C,oBAAI8C,MAAI,KAAKlE,QAAL,CAAcmE,MAAd,CAAqB/C,CAArB,EAAuB,CAAvB,CAAR;AACAA;AACA,oBAAIgD,OAAKjE,GAAGC,MAAH,CAAUiE,UAAV,CAAqB5F,GAAG6F,EAAH,CAAMJ,IAAI,CAAJ,EAAOK,CAAb,EAAeL,IAAI,CAAJ,EAAOM,CAAtB,CAArB,CAAT;AACA,oBAAI9C,MAAIvB,GAAGC,MAAH,CAAUqE,YAAV,CAAuBL,IAAvB,CAAR;AACA,qBAAKvD,UAAL,CAAgBpC,GAAG6F,EAAH,CAAM5C,IAAI6C,CAAJ,GAAM,EAAZ,EAAe7C,IAAI8C,CAAnB,CAAhB,EAAsCN,IAAI,CAAJ,EAAO3C,IAA7C;AACH;AACJ;AACJ,KAlKI;AAmKLmD,wBAnKK,kCAmKiB;AAClB,YAAIxD,WAAS,KAAKC,IAAL,CAAUD,QAAvB;AACA,aAAI,IAAIE,IAAE,CAAV,EAAYA,IAAEF,SAASG,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,gBAAIuD,MAAIzD,SAASE,CAAT,EAAYE,YAAZ,CAAyBJ,SAASE,CAAT,EAAYG,IAArC,CAAR;AACA,gBAAIqD,WAASzE,GAAG0E,SAAH,CAAaC,UAAb,EAAb;AACA,iBAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEH,SAASvD,MAAvB,EAA8B0D,GAA9B,EAAkC;AAC9BJ,oBAAIK,sBAAJ,CAA2BJ,SAASG,CAAT,EAAYzD,YAAZ,CAAyBsD,SAASG,CAAT,EAAYxD,IAArC,CAA3B;AACH;AACJ;AACJ,KA5KI;AA6KL0D,yBA7KK,mCA6KkB;AACnB,YAAI/D,WAAS,KAAKC,IAAL,CAAUD,QAAvB;AACA,YAAIgE,UAAQ/E,GAAGgF,UAAH,CAAcC,WAAd,EAAZ;AACA,aAAI,IAAIhE,IAAE,CAAV,EAAYA,IAAEF,SAASG,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,gBAAIiE,MAAInE,SAASE,CAAT,EAAYE,YAAZ,CAAyBJ,SAASE,CAAT,EAAYG,IAArC,CAAR;AACA,iBAAI,IAAIwD,IAAE,CAAV,EAAYA,IAAEG,QAAQ7D,MAAtB,EAA6B0D,GAA7B,EAAiC;AAC7BM,oBAAIC,aAAJ,CAAkBJ,QAAQH,CAAR,EAAWzD,YAAX,CAAwB4D,QAAQH,CAAR,EAAWxD,IAAnC,CAAlB;AACH;AACJ;AACJ,KAtLI;AAuLLgE,UAvLK,kBAuLGC,EAvLH,EAuLO;;AAER;AACA,aAAK7B,UAAL;;AAEA;AACA,aAAKK,mBAAL;;AAEA;AACA,aAAKU,oBAAL;;AAEA;AACA,aAAKO,qBAAL;AACH,KApMI;AAqMLQ,aArMK,uBAqMM;AACPhF,WAAGiF,GAAH,CAAOjF,GAAGE,IAAH,CAAQC,WAAf;;AAEAH,WAAGiF,GAAH,CAAOjF,GAAGE,IAAH,CAAQG,WAAf;AACAL,WAAGiF,GAAH,CAAOjF,GAAGE,IAAH,CAAQK,YAAf;AACH;AA1MI,CAAT","file":"propMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        mushroom:cc.Prefab,\r\n        flower:cc.Prefab,\r\n        star:cc.Prefab,\r\n        cirrus:cc.Prefab,\r\n        ladder:cc.Prefab,\r\n        story:cc.Prefab,\r\n        aex:cc.Prefab,\r\n        baby:cc.Prefab,\r\n        spring:cc.Prefab,\r\n        bubble:cc.Prefab,\r\n        wheel:cc.Prefab,\r\n        transition:cc.Prefab,\r\n        roadCheck:cc.Prefab,\r\n        princess:cc.Prefab,\r\n        conditionTran:cc.Prefab,\r\n        roadClear:cc.Prefab\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    init(){\r\n        this.propObjs=utils.deepClone(gm.mapMgr.propLayer.getObjects());\r\n    },\r\n    resetObjects(){\r\n        this.propObjs=utils.deepClone(gm.mapMgr.propLayer.getObjects());\r\n    },\r\n    onLoad () {\r\n        EM.on(EM.type.CREATE_PROP,this.createProp,this);\r\n\r\n        EM.on(EM.type.PAUSE_ACTOR,this.pauseActor,this);\r\n        EM.on(EM.type.RESUME_ACTOR,this.resumeActor,this);\r\n    },\r\n    pauseActor(){\r\n        let children=this.node.children;\r\n        for(let i=0;i<children.length;i++){\r\n            children[i].getComponent(children[i].name).pause();            \r\n        }\r\n    },\r\n    resumeActor(){\r\n        let children=this.node.children;\r\n        for(let i=0;i<children.length;i++){\r\n            children[i].getComponent(children[i].name).resume();            \r\n        }\r\n    },\r\n    createProp(pos,propName){\r\n        let args=propName.split(\"_\");\r\n        let prop=null;\r\n        let script=null;\r\n        switch(args[0]){\r\n            case ENUM.PROP_TYPE.COIN:return;\r\n            case ENUM.PROP_TYPE.MUSHROOM:\r\n                if(global.getPlayerState()===FORM_STATE.SMALL||args[1]===ENUM.PROP_TYPE.LIFE){\r\n                    prop=cc.instantiate(this.mushroom);\r\n                    script=prop.getComponent(\"mush\");\r\n                }else{\r\n                    prop=cc.instantiate(this.flower);\r\n                    script=prop.getComponent(\"flower\");\r\n                }\r\n            break;\r\n            case ENUM.PROP_TYPE.STAR:\r\n                prop=cc.instantiate(this.star);\r\n                script=prop.getComponent(\"star\");\r\n            break;\r\n            case ENUM.PROP_TYPE.CIRRUS:\r\n                prop=cc.instantiate(this.cirrus);\r\n                script=prop.getComponent(\"cirrus\");\r\n            break;\r\n            case ENUM.PROP_TYPE.LADDER:\r\n                prop=cc.instantiate(this.ladder);\r\n                script=prop.getComponent(\"ladder\");\r\n            break;\r\n            case ENUM.PROP_TYPE.STORY:\r\n                prop=cc.instantiate(this.story);\r\n                script=prop.getComponent(\"story\");\r\n            break;\r\n            case ENUM.PROP_TYPE.AEX:\r\n            prop=cc.instantiate(this.aex);\r\n            script=prop.getComponent(\"aex\");\r\n            break;\r\n            case ENUM.PROP_TYPE.BABY:\r\n            prop=cc.instantiate(this.baby);\r\n            script=prop.getComponent(\"baby\");\r\n            break;\r\n            case ENUM.PROP_TYPE.SPRING:\r\n            prop=cc.instantiate(this.spring);\r\n            script=prop.getComponent(\"spring\");\r\n            break;\r\n            case ENUM.PROP_TYPE.BUBBLE:\r\n            prop=cc.instantiate(this.bubble);\r\n            script=prop.getComponent(\"bubble\");\r\n            break;\r\n            case ENUM.PROP_TYPE.WHEEL:\r\n            prop=cc.instantiate(this.wheel);\r\n            script=prop.getComponent(\"wheel\");\r\n            break;\r\n            case ENUM.PROP_TYPE.TRANSITION:\r\n            prop=cc.instantiate(this.transition);\r\n            script=prop.getComponent(\"transition\");\r\n            break;\r\n            case ENUM.PROP_TYPE.ROADCHECK:\r\n            prop=cc.instantiate(this.roadCheck);\r\n            script=prop.getComponent(\"roadCheck\");\r\n            break;\r\n            case ENUM.PROP_TYPE.PRINCESS:\r\n            prop=cc.instantiate(this.princess);\r\n            script=prop.getComponent(\"princess\");\r\n            break;\r\n            case ENUM.PROP_TYPE.CONDITIONTRAN:\r\n            prop=cc.instantiate(this.conditionTran);\r\n            script=prop.getComponent(\"conditionTran\");\r\n            break;\r\n            case ENUM.PROP_TYPE.ROADCLEAR:\r\n            prop=cc.instantiate(this.roadClear);\r\n            script=prop.getComponent(\"roadClear\");\r\n            break;\r\n        }\r\n        this.node.addChild(prop);\r\n        prop.setPosition(pos);\r\n        script.init.apply(script,args);\r\n    },\r\n\r\n    collsition(){\r\n        let children=this.node.children;\r\n        for(let i=0;i<children.length;i++){\r\n            children[i].getComponent(children[i].name).interactive(gm.playerScript);            \r\n        }\r\n    },\r\n    collsiWithPushWall(wallBox){\r\n        let children=this.node.children;\r\n        for(let i=0;i<children.length;i++){\r\n            children[i].getComponent(children[i].name).collsiWithPushWall(wallBox);            \r\n        }\r\n    },\r\n    //遍历怪物对象组，找出出现在当前屏幕中的对象\r\n    iteratorPropObjects(){\r\n        for(let i=0;i<this.propObjs.length;i++){\r\n            if(gm.mapMgr.isObjectInScreen(this.propObjs[i])){\r\n                let obj=this.propObjs.splice(i,1);\r\n                i--;\r\n                let tPos=gm.mapMgr.toTiledPos(cc.v2(obj[0].x,obj[0].y));\r\n                let pos=gm.mapMgr.tilePosToPos(tPos);\r\n                this.createProp(cc.v2(pos.x+20,pos.y),obj[0].name);\r\n            }\r\n        }\r\n    },\r\n    collsitionWithBullet(){\r\n        let children=this.node.children;\r\n        for(let i=0;i<children.length;i++){\r\n            let mon=children[i].getComponent(children[i].name);\r\n            let pBullets=gm.bulletMgr.getPBullet();\r\n            for(let j=0;j<pBullets.length;j++){\r\n                mon.collsiWithPlayerBullet(pBullets[j].getComponent(pBullets[j].name));\r\n            }\r\n        }\r\n    },\r\n    collsitionWithMonster(){\r\n        let children=this.node.children;\r\n        let monster=gm.monsterMgr.getMonsters();\r\n        for(let i=0;i<children.length;i++){\r\n            let one=children[i].getComponent(children[i].name);\r\n            for(let j=0;j<monster.length;j++){\r\n                one.collsiWithMon(monster[j].getComponent(monster[j].name));\r\n            }      \r\n        }\r\n    },\r\n    update (dt) {\r\n\r\n        //道具与玩家的碰撞检测\r\n        this.collsition();\r\n\r\n        //遍历道具对象组\r\n        this.iteratorPropObjects();\r\n        \r\n        //与玩家子弹的碰撞检测\r\n        this.collsitionWithBullet();\r\n\r\n        //与怪物的碰撞检测\r\n        this.collsitionWithMonster();\r\n    },  \r\n    onDestroy(){\r\n        EM.off(EM.type.CREATE_PROP);\r\n\r\n        EM.off(EM.type.PAUSE_ACTOR);\r\n        EM.off(EM.type.RESUME_ACTOR);\r\n    }\r\n});\r\n"]}