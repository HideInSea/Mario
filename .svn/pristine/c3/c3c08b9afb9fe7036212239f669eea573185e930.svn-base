{"version":3,"sources":["uiMgr.js"],"names":["cc","Class","extends","Component","properties","score","Label","coin","level","time","round2_3_4","Node","round6_7_8","round5","thank","tip","onLoad","EM","on","type","UPDATE_SCORE","updateScore","UPDATE_COIN","updateCoin","UPDATE_TIME","updateTime","SHOW_SELECT_ZOOM","showSelectZoom","SHOW_THANK","active","SHOW_TIP","updateLevel","global","getRoundString","getTime","getCoin","getScore","ENUM","STORY_TYPE","string","preFix","lv","onDestroy","off","num","len","Array","join","slice"],"mappings":"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","file":"uiMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        score:cc.Label,\r\n        coin:cc.Label,\r\n        level:cc.Label,\r\n        time:cc.Label,\r\n        round2_3_4:cc.Node,\r\n        round6_7_8:cc.Node,\r\n        round5:cc.Node,\r\n        thank:cc.Node,\r\n        tip:cc.Node\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        EM.on(EM.type.UPDATE_SCORE,this.updateScore,this);\r\n        EM.on(EM.type.UPDATE_COIN,this.updateCoin,this);\r\n        EM.on(EM.type.UPDATE_TIME,this.updateTime,this);\r\n        EM.on(EM.type.SHOW_SELECT_ZOOM,this.showSelectZoom,this);\r\n        EM.on(EM.type.SHOW_THANK,function(){\r\n            this.thank.active=true;\r\n        },this);\r\n        EM.on(EM.type.SHOW_TIP,function(){\r\n            this.tip.active=true;\r\n        },this);\r\n\r\n\r\n        this.updateLevel(global.getRoundString());\r\n        this.updateTime(global.getTime());\r\n        this.updateCoin(global.getCoin());\r\n        this.updateScore(global.getScore());\r\n    },\r\n\r\n    showSelectZoom(type) {  \r\n        switch(type){\r\n            case ENUM.STORY_TYPE[\"2_3_4\"]:\r\n                this.round2_3_4.active=true;\r\n                break;\r\n            case ENUM.STORY_TYPE[\"6_7_8\"]:\r\n                this.round6_7_8.active=true;\r\n                break;\r\n            case ENUM.STORY_TYPE[\"5\"]:\r\n                this.round5.active=true;\r\n                break;\r\n        }\r\n    },\r\n    updateScore(score){\r\n        this.score.string=this.preFix(score,6);\r\n    },\r\n    updateCoin(coin){\r\n        this.coin.string=\"x \"+this.preFix(coin,2);\r\n    },\r\n    updateLevel(lv){\r\n        this.level.string=lv;\r\n    },\r\n    updateTime(time){\r\n        this.time.string=this.preFix(time,3);\r\n    },\r\n    // update (dt) {},\r\n    onDestroy(){\r\n        EM.off(EM.type.UPDATE_SCORE);\r\n        EM.off(EM.type.UPDATE_COIN);\r\n        EM.off(EM.type.UPDATE_TIME);\r\n        EM.off(EM.type.SHOW_SELECT_ZOOM);\r\n        EM.off(EM.type.SHOW_THANK);\r\n        EM.off(EM.type.SHOW_TIP);\r\n    },\r\n    preFix(num,len){\r\n        return (Array(len).join(\"0\")+num).slice(-len);\r\n    }\r\n});\r\n"]}