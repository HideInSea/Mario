{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\uiMgr.js"],"names":["cc","Class","extends","Component","properties","score","Label","coin","level","time","round2_3_4","Node","round6_7_8","round5","thank","tip","pass","onLoad","EM","on","type","UPDATE_SCORE","updateScore","UPDATE_COIN","updateCoin","UPDATE_TIME","updateTime","SHOW_SELECT_ZOOM","showSelectZoom","SHOW_THANK","active","SHOW_TIP","SHOW_PASS","updateLevel","global","getRoundString","getTime","getCoin","getScore","ENUM","STORY_TYPE","string","preFix","lv","onDestroy","off","num","len","Array","join","slice"],"mappings":"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","file":"uiMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        score:cc.Label,\r\n        coin:cc.Label,\r\n        level:cc.Label,\r\n        time:cc.Label,\r\n        round2_3_4:cc.Node,\r\n        round6_7_8:cc.Node,\r\n        round5:cc.Node,\r\n        thank:cc.Node,\r\n        tip:cc.Node,\r\n        pass:cc.Node\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        EM.on(EM.type.UPDATE_SCORE,this.updateScore,this);\r\n        EM.on(EM.type.UPDATE_COIN,this.updateCoin,this);\r\n        EM.on(EM.type.UPDATE_TIME,this.updateTime,this);\r\n        EM.on(EM.type.SHOW_SELECT_ZOOM,this.showSelectZoom,this);\r\n        EM.on(EM.type.SHOW_THANK,function(){\r\n            this.thank.active=true;\r\n        },this);\r\n        EM.on(EM.type.SHOW_TIP,function(){\r\n            this.tip.active=true;\r\n        },this);\r\n        EM.on(EM.type.SHOW_PASS,function(){\r\n            this.pass.active=true;\r\n        },this);\r\n\r\n        this.updateLevel(global.getRoundString());\r\n        this.updateTime(global.getTime());\r\n        this.updateCoin(global.getCoin());\r\n        this.updateScore(global.getScore());\r\n    },\r\n\r\n    showSelectZoom(type) {  \r\n        switch(type){\r\n            case ENUM.STORY_TYPE[\"2_3_4\"]:\r\n                this.round2_3_4.active=true;\r\n                break;\r\n            case ENUM.STORY_TYPE[\"6_7_8\"]:\r\n                this.round6_7_8.active=true;\r\n                break;\r\n            case ENUM.STORY_TYPE[\"5\"]:\r\n                this.round5.active=true;\r\n                break;\r\n        }\r\n    },\r\n    updateScore(score){\r\n        this.score.string=this.preFix(score,6);\r\n    },\r\n    updateCoin(coin){\r\n        this.coin.string=\"x \"+this.preFix(coin,2);\r\n    },\r\n    updateLevel(lv){\r\n        this.level.string=lv;\r\n    },\r\n    updateTime(time){\r\n        this.time.string=this.preFix(time,3);\r\n    },\r\n    // update (dt) {},\r\n    onDestroy(){\r\n        EM.off(EM.type.UPDATE_SCORE);\r\n        EM.off(EM.type.UPDATE_COIN);\r\n        EM.off(EM.type.UPDATE_TIME);\r\n        EM.off(EM.type.SHOW_SELECT_ZOOM);\r\n        EM.off(EM.type.SHOW_THANK);\r\n        EM.off(EM.type.SHOW_TIP);\r\n        EM.off(EM.type.SHOW_PASS);\r\n    },\r\n    preFix(num,len){\r\n        return (Array(len).join(\"0\")+num).slice(-len);\r\n    }\r\n});\r\n"]}